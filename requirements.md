# 株価グラフ表示GUIアプリケーション 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
株価グラフ表示GUIアプリケーション

### 1.2 目的
yfinanceライブラリを使用して株価データを取得し、グラフィカルユーザーインターフェース（GUI）で株価の推移をグラフ表示するデスクトップアプリケーションの開発

### 1.3 開発環境
- **OS**: Windows 11 + WSL (Windows Subsystem for Linux)
- **Python**: 3.12以上
- **パッケージ管理**: uv
- **GUI フレームワーク**: 未定（tkinter、PyQt、Kivy等から選定）

## 2. 機能要件

### 2.1 株価データ取得機能
- yfinanceライブラリを使用して株価データを取得
- 株価コードまたは銘柄コードによる検索
- リアルタイムデータ取得対応

### 2.2 株価コード入力機能
- **入力方式**: テキスト入力フィールド
- **対応コード**: 
  - 日本株式コード（例: 7203.T）
  - 米国株式コード（例: AAPL）
  - その他の国際的な株式コード
- **入力検証**: 有効な株価コードの検証機能

### 2.3 グラフ表示機能
- **グラフタイプ**: 線グラフによる株価推移表示
- **表示データ**: 終値、高値、安値、始値
- **軸設定**:
  - X軸: 日付
  - Y軸: 株価（通貨単位）

### 2.4 日付間隔調整機能
- **調整可能な期間**:
  - 1日
  - 1週間
  - 1ヶ月
  - 3ヶ月
  - 6ヶ月
  - 1年
  - カスタム期間（開始日〜終了日）
- **インターフェース**: ドロップダウンメニューまたはボタン選択

### 2.5 複数銘柄管理機能
- **登録可能数**: 4社まで
- **表示方式**: 同一グラフ内で複数の線で表示
- **銘柄管理**:
  - 追加機能
  - 削除機能
  - 銘柄名表示
- **色分け**: 各銘柄を異なる色で表示

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **データ取得時間**: 5秒以内
- **グラフ描画時間**: 2秒以内
- **アプリケーション起動時間**: 3秒以内

### 3.2 ユーザビリティ要件
- **操作の簡易性**: 直感的なUI設計
- **エラーハンドリング**: 分かりやすいエラーメッセージ表示
- **レスポンシブ**: ウィンドウサイズ変更に対応

### 3.3 互換性要件
- **Windows 11**: ネイティブ動作
- **WSL環境**: X11またはWayland経由でのGUI表示
- **Python版互換性**: Python 3.12以上

### 3.4 可用性要件
- **ネットワーク接続**: インターネット接続必須（株価データ取得のため）
- **オフライン機能**: キャッシュされたデータの表示（オプション）

## 4. 技術要件

### 4.1 必要ライブラリ
- **yfinance**: 株価データ取得
- **matplotlib/plotly**: グラフ描画
- **pandas**: データ処理
- **GUI フレームワーク**: tkinter/PyQt/Kivy（要選定）
- **datetime**: 日付処理

### 4.2 アーキテクチャ
- **デザインパターン**: MVC（Model-View-Controller）
- **モジュール構成**:
  - データ取得モジュール
  - GUI表示モジュール
  - データ処理モジュール
  - 設定管理モジュール

## 5. ユーザーインターフェース要件

### 5.1 メインウィンドウ構成
- **株価コード入力エリア**: 4つの入力フィールド
- **期間選択エリア**: ドロップダウンまたはボタン群
- **グラフ表示エリア**: メイン表示領域
- **コントロールボタン**: 更新、クリア、設定等

### 5.2 レイアウト
- **ウィンドウサイズ**: 最小1024x768px、リサイズ可能
- **レスポンシブ**: ウィンドウサイズに応じたレイアウト調整

## 6. データ要件

### 6.1 データソース
- **プライマリ**: Yahoo Finance（yfinanceライブラリ経由）
- **データ形式**: JSON/CSV
- **更新頻度**: リアルタイム（市場開場時間中）

### 6.2 データ保存
- **一時キャッシュ**: メモリ内保存
- **設定データ**: ローカルファイル保存（JSON形式）

## 7. セキュリティ要件

### 7.1 データセキュリティ
- **外部通信**: HTTPS通信必須
- **個人情報**: 株価コード以外の個人情報は保存しない

## 8. テスト要件

### 8.1 機能テスト
- 各機能の正常動作確認
- エラーハンドリングテスト
- 複数銘柄同時表示テスト

### 8.2 環境テスト
- Windows 11環境でのテスト
- WSL環境でのGUI表示テスト

## 9. 運用要件

### 9.1 インストール要件
- uvによるパッケージ管理
- 依存関係の自動解決
- 実行可能ファイル化（オプション）

### 9.2 保守要件
- ログ出力機能
- エラー追跡機能
- アップデート対応

## 10. 制約事項

### 10.1 技術制約
- インターネット接続必須
- yfinanceの利用制限に準拠
- WSLでのGUI表示制約

### 10.2 機能制約
- リアルタイム取引機能は提供しない
- 投資アドバイス機能は提供しない
- データの永続化は最小限