# 株価チャート表示GUIアプリケーション

## 概要
yfinanceライブラリを使用して株価データを取得し、グラフィカルユーザーインターフェース（GUI）で株価の推移をグラフ表示するデスクトップアプリケーションです。

## 機能
- 最大4社の株価を同時にグラフ表示
- 日本株（例：7203.T）、米国株（例：AAPL）に対応
- 期間選択（1日〜5年）
- リアルタイムデータ取得
- 直感的なWebインターフェース（WSLエラー対応済み）

## 動作環境
- Python 3.12以上
- Windows 11 + WSL
- インターネット接続（株価データ取得のため）

## インストール方法

### 依存関係のインストール
```bash
uv sync
```

## 実行方法

### WSL環境対応版（推奨）
```bash
uv run python run.py
```
このコマンドでWebアプリ版が起動し、自動的にブラウザが開きます。

### 直接Webアプリ実行
```bash
uv run python web_app.py
```
その後、ブラウザで http://127.0.0.1:8050 にアクセス

### tkinter版（WSLではエラーが発生する可能性があります）
```bash
uv run python main.py
```

## 使用方法

1. **銘柄コード入力**: 
   - 最大4つの銘柄コードを入力
   - 米国株: AAPL, GOOGL, MSFT など
   - 日本株: 7203.T, 6758.T など

2. **期間選択**:
   - ラジオボタンから表示期間を選択
   - 1日、5日、1ヶ月、3ヶ月、6ヶ月、1年、2年、5年

3. **グラフ表示**:
   - 「グラフ更新」ボタンをクリック
   - データ取得後、グラフが表示されます

4. **クリア**:
   - 「クリア」ボタンで入力をリセット

## プロジェクト構造
```
myproj/
├── main.py              # メインGUIアプリケーション（tkinter版）
├── web_app.py           # Webアプリケーション（WSL対応）
├── stock_data.py        # 株価データ取得モジュール
├── run.py               # 実行スクリプト（自動ブラウザ起動）
├── pyproject.toml       # プロジェクト設定
├── requirements.md      # 要件定義書
└── README.md            # このファイル
```

## WSLでのtkinterエラー対応

WSL環境では`tkinter`ライブラリの問題により、従来のデスクトップGUIアプリが動作しない場合があります。このアプリでは以下の対応を実装しています：

1. **Webアプリ版の提供**: `web_app.py`でDash/Plotlyを使用したWebベースのGUI
2. **自動ブラウザ起動**: `run.py`でWSL環境に対応した自動ブラウザ起動
3. **同等の機能**: tkinter版と同じ機能をWebインターフェースで提供

## トラブルシューティング

### Webアプリが起動しない場合
```bash
uv sync --force-reinstall
```

### 株価データが取得できない場合
1. インターネット接続を確認
2. 銘柄コードの形式を確認：
   - 米国株: AAPL（そのまま）
   - 日本株: 7203.T（.T を追加）

### WSL環境でブラウザが開かない場合
手動でブラウザを開き、http://127.0.0.1:8050 にアクセスしてください。

## 技術仕様
- **Webフレームワーク**: Dash
- **グラフライブラリ**: Plotly
- **データ取得**: yfinance
- **データ処理**: pandas

## 注意事項
- リアルタイム取引機能は提供していません
- 投資アドバイス機能は提供していません
- yfinanceの利用制限に準拠してください